

<link rel="import" href="../../bower_components/polymer/polymer.html">
<link rel="import" href="../../bower_components/paper-input/paper-textarea.html">

<dom-module id="form-xmpl2">
  <template>
    <style>
      :host {
        display: block;
      }
    </style>
    <div>
      <form id="myForms">
        First name: <input type="text" name="fname"><br>
        <input type="hidden" name="test" value="{{bar}}">
        <paper-textarea value="{{bar}}"></paper-textarea>
        <br>
        <input type="button" on-click="myFunctions" value="Submit form">
      </form>
    </div>
  </template>
  <script>
    //    document.getElementById('formGet').addEventListener('iron-form-submit', display);
    //
    //    function display(event) {
    //      var output = document.getElementById('output');
    //      output.innerHTML = JSON.stringify(event.detail);
    //    }
    //
    //    function clickHandler(event) {
    //      Polymer.dom(event).localTarget.parentElement.submit();
    //    }
    (function () {
      'use strict';

      Polymer({
        is: 'form-xmpl2',

        myFunctions: function (event) {
          console.log("but");
          var elem = document.getElementById('myForms').elements;
          for (var i = 0; i < elem.length; i++) {
            if (elem[i].value&&elem[i].getAttribute("name")) {
              console.log(elem[i].getAttribute("name")+ "=" +elem[i].value  );
            }
          }
        }
      });
    })();
  </script>
</dom-module>
